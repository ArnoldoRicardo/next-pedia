fragment AssetFields on Asset {
  title
  url
  width
  height
}

fragment AuthorFields on Author {
  sys {
    id
  }
  fullName
  handle
  photo {
    ...AssetFields
  }
  biography
  twitter
  linkedIn
}

fragment CategoryFields on Category {
  sys {
    id
  }
  slug
  title
  categoryDescription
  icon {
    ...AssetFields
  }
}

fragment PlantFields on Plant {
  sys {
    id
  }
  slug
  plantName
  image {
    ...AssetFields
  }
  description {
    json
  }
  author {
    ...AuthorFields
  }
  categoriesCollection {
    items {
      ...CategoryFields
    }
  }
}

query getPlantList(
  $limit: Int = 10
  $skip: Int = 0
  $order: [PlantOrder] = sys_publishedAt_DESC
) {
  plantCollection(limit: $limit, skip: $skip, order: $order) {
    total
    skip
    limit
    items {
      ...PlantFields
    }
  }
}

query getPlant($slug: String!) {
  plantCollection(where: { slug: $slug }, limit: 1) {
    items {
      ...PlantFields
    }
  }
}

query getCategoryList(
  $limit: Int = 10
  $skip: Int = 0
  $order: [CategoryOrder] = sys_publishedAt_DESC
) {
  categoryCollection(limit: $limit, skip: $skip, order: $order) {
    items {
      ...CategoryFields
    }
  }
}

query getAuthorList(
  $limit: Int = 10
  $skip: Int = 0
  $order: [AuthorOrder] = sys_publishedAt_DESC
) {
  authorCollection(limit: $limit, skip: $skip, order: $order) {
    items {
      ...AuthorFields
    }
  }
}

query getPlantListByAuthor($authorId: String!, $limit: Int = 10) {
  plantCollection(
    limit: $limit
    where: { author: { sys: { id: $authorId } } }
  ) {
    items {
      ...PlantFields
    }
  }
}
